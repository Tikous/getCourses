# ğŸ“ å»ä¸­å¿ƒåŒ–è´­è¯¾ç³»ç»Ÿ (getCourses)

ä¸€ä¸ªåŸºäºåŒºå—é“¾æŠ€æœ¯çš„å»ä¸­å¿ƒåŒ–åœ¨çº¿è¯¾ç¨‹è´­ä¹°å¹³å°ï¼Œä½¿ç”¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å’Œç°ä»£WebæŠ€æœ¯æ„å»ºã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„å»ä¸­å¿ƒåŒ–è¯¾ç¨‹äº¤æ˜“å¹³å°ï¼Œç”¨æˆ·å¯ä»¥ï¼š
- ä½¿ç”¨ETHå…‘æ¢å¹³å°ä»£å¸SK
- ç”¨SKä»£å¸è´­ä¹°è¯¾ç¨‹
- åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„è¯¾ç¨‹
- ç®¡ç†ä¸ªäººè¯¾ç¨‹å’Œæ”¶ç›Š

## ğŸ›  æŠ€æœ¯æ ˆ

### åŒºå—é“¾æŠ€æœ¯
- **Solidity**: æ™ºèƒ½åˆçº¦å¼€å‘è¯­è¨€
- **Hardhat**: ä»¥å¤ªåŠå¼€å‘ç¯å¢ƒ
- **OpenZeppelin**: å®‰å…¨çš„æ™ºèƒ½åˆçº¦åº“
- **Ethers.js**: ä»¥å¤ªåŠJavaScriptåº“

### å‰ç«¯æŠ€æœ¯
- **Next.js**: Reactå…¨æ ˆæ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **RainbowKit**: Web3é’±åŒ…è¿æ¥ç»„ä»¶
- **Wagmi**: React Hooks for Ethereum

## ğŸ— é¡¹ç›®æ¶æ„

```
getCourses/
â”œâ”€â”€ contracts/              # æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ SKToken.sol         # ERC20ä»£å¸åˆçº¦
â”‚   â””â”€â”€ CourseMarketplace.sol # è¯¾ç¨‹å¸‚åœºåˆçº¦
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ deploy.ts           # åˆçº¦éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ pages/                  # Next.jsé¡µé¢
â”‚   â”œâ”€â”€ _app.tsx           # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.tsx          # ä¸»é¡µé¢
â”œâ”€â”€ components/             # Reactç»„ä»¶
â”‚   â”œâ”€â”€ CourseCard.tsx     # è¯¾ç¨‹å¡ç‰‡
â”‚   â”œâ”€â”€ TokenPurchase.tsx  # ä»£å¸è´­ä¹°
â”‚   â”œâ”€â”€ CreateCourse.tsx   # åˆ›å»ºè¯¾ç¨‹
â”‚   â”œâ”€â”€ MyCourses.tsx      # æˆ‘çš„è¯¾ç¨‹
â”‚   â””â”€â”€ NetworkStatus.tsx  # ç½‘ç»œçŠ¶æ€
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â””â”€â”€ contracts.ts       # åˆçº¦é…ç½®
â””â”€â”€ styles/                # æ ·å¼æ–‡ä»¶
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. æ™ºèƒ½åˆçº¦æ¶æ„

#### SKToken.sol - ERC20ä»£å¸åˆçº¦
```solidity
// ä¸»è¦åŠŸèƒ½ï¼š
- ä»£å¸å‘è¡Œå’Œç®¡ç†
- ETHå…‘æ¢SKä»£å¸ (1 ETH = 10,000 SK)
- ä»£å¸æˆæƒå’Œè½¬è´¦
- åˆçº¦ä½™é¢æå–
```

#### CourseMarketplace.sol - è¯¾ç¨‹å¸‚åœºåˆçº¦
```solidity
// ä¸»è¦åŠŸèƒ½ï¼š
- è¯¾ç¨‹åˆ›å»ºå’Œç®¡ç†
- è¯¾ç¨‹è´­ä¹°é€»è¾‘
- 5%å¹³å°æ‰‹ç»­è´¹
- è´­ä¹°çŠ¶æ€æŸ¥è¯¢
```

### 2. å‰ç«¯æ¶æ„

#### çŠ¶æ€ç®¡ç†
- ä½¿ç”¨React Hooksç®¡ç†ç»„ä»¶çŠ¶æ€
- Wagmiæä¾›åŒºå—é“¾çŠ¶æ€ç®¡ç†
- å®æ—¶åŒæ­¥é“¾ä¸Šæ•°æ®

#### ç»„ä»¶è®¾è®¡
- **æ¨¡å—åŒ–ç»„ä»¶**: æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹å°è£…
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶

### 3. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

#### ä»£å¸è´­ä¹°æµç¨‹
```typescript
1. ç”¨æˆ·è¾“å…¥æƒ³è¦è´­ä¹°çš„SKä»£å¸æ•°é‡
2. ç³»ç»Ÿè®¡ç®—éœ€è¦çš„ETHæ•°é‡ (amount / 10000)
3. è°ƒç”¨SKToken.purchaseTokens()å‘é€ETH
4. åˆçº¦è‡ªåŠ¨é“¸é€ å¯¹åº”çš„SKä»£å¸ç»™ç”¨æˆ·
5. å‰ç«¯æ›´æ–°ç”¨æˆ·ä½™é¢æ˜¾ç¤º
```

#### è¯¾ç¨‹è´­ä¹°æµç¨‹
```typescript
1. ç”¨æˆ·é€‰æ‹©è¦è´­ä¹°çš„è¯¾ç¨‹
2. æ£€æŸ¥ç”¨æˆ·SKä»£å¸ä½™é¢æ˜¯å¦è¶³å¤Ÿ
3. æˆæƒCourseMarketplaceåˆçº¦ä½¿ç”¨ä»£å¸
4. è°ƒç”¨purchaseCourse()å®Œæˆè´­ä¹°
5. åˆçº¦è½¬è´¦ä»£å¸å¹¶è®°å½•è´­ä¹°çŠ¶æ€
6. æ›´æ–°è¯¾ç¨‹å­¦ç”Ÿæ•°é‡
```

#### è¯¾ç¨‹åˆ›å»ºæµç¨‹
```typescript
1. ç”¨æˆ·å¡«å†™è¯¾ç¨‹ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æè¿°ã€ä»·æ ¼ç­‰ï¼‰
2. è°ƒç”¨createCourse()åˆ›å»ºè¯¾ç¨‹
3. åˆçº¦å­˜å‚¨è¯¾ç¨‹ä¿¡æ¯å¹¶åˆ†é…å”¯ä¸€ID
4. å‰ç«¯æ›´æ–°è¯¾ç¨‹åˆ—è¡¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm æˆ– yarn
- MetaMaskæµè§ˆå™¨æ’ä»¶

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¯åŠ¨æœ¬åœ°åŒºå—é“¾
```bash
npx hardhat node
```

### éƒ¨ç½²æ™ºèƒ½åˆçº¦
```bash
npx hardhat run scripts/deploy.ts --network localhost
```

### å¯åŠ¨å‰ç«¯åº”ç”¨
```bash
npm run dev
```

### é…ç½®MetaMask

1. **æ·»åŠ æœ¬åœ°ç½‘ç»œ**ï¼š
   - ç½‘ç»œåç§°: Hardhat Local
   - RPC URL: http://127.0.0.1:8545
   - é“¾ID: 31337
   - è´§å¸ç¬¦å·: ETH

2. **å¯¼å…¥æµ‹è¯•è´¦æˆ·**ï¼š
   ```
   ç§é’¥: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
   åœ°å€: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
   ä½™é¢: 10,000 ETH
   ```

## ğŸ“± ä½¿ç”¨æŒ‡å—

### 1. è¿æ¥é’±åŒ…
- è®¿é—® http://localhost:3000
- ç‚¹å‡»"Connect Wallet"è¿æ¥MetaMask
- ç¡®ä¿ç½‘ç»œåˆ‡æ¢åˆ°Hardhat Local

### 2. è´­ä¹°SKä»£å¸
- è¿›å…¥"è´­ä¹°ä»£å¸"é¡µé¢
- è¾“å…¥æƒ³è¦è´­ä¹°çš„SKä»£å¸æ•°é‡
- ç¡®è®¤äº¤æ˜“å¹¶ç­‰å¾…å®Œæˆ
- æŸ¥çœ‹ä½™é¢æ›´æ–°

### 3. æµè§ˆå’Œè´­ä¹°è¯¾ç¨‹
- åœ¨"è¯¾ç¨‹åˆ—è¡¨"æŸ¥çœ‹å¯è´­ä¹°çš„è¯¾ç¨‹
- ç‚¹å‡»"è´­ä¹°è¯¾ç¨‹"æŒ‰é’®
- ç¡®è®¤ä»£å¸æˆæƒå’Œè´­ä¹°äº¤æ˜“
- åœ¨"æˆ‘çš„è¯¾ç¨‹"æŸ¥çœ‹å·²è´­ä¹°çš„è¯¾ç¨‹

### 4. åˆ›å»ºè¯¾ç¨‹
- è¿›å…¥"åˆ›å»ºè¯¾ç¨‹"é¡µé¢
- å¡«å†™è¯¾ç¨‹ä¿¡æ¯
- è®¾ç½®è¯¾ç¨‹ä»·æ ¼ï¼ˆSKä»£å¸ï¼‰
- æäº¤åˆ›å»ºäº¤æ˜“

### 5. ç®¡ç†è¯¾ç¨‹
- åœ¨"æˆ‘çš„è¯¾ç¨‹"æŸ¥çœ‹åˆ›å»ºçš„è¯¾ç¨‹
- æŸ¥çœ‹è¯¾ç¨‹æ”¶ç›Šç»Ÿè®¡
- ç®¡ç†è¯¾ç¨‹çŠ¶æ€

## ğŸ” ä»£ç è¿è¡Œé€»è¾‘

### æ™ºèƒ½åˆçº¦äº¤äº’æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¿æ¥é’±åŒ…] --> B[é€‰æ‹©åŠŸèƒ½]
    B --> C[è´­ä¹°ä»£å¸]
    B --> D[è´­ä¹°è¯¾ç¨‹]
    B --> E[åˆ›å»ºè¯¾ç¨‹]
    
    C --> F[è°ƒç”¨SKToken.purchaseTokens]
    F --> G[å‘é€ETHåˆ°åˆçº¦]
    G --> H[åˆçº¦é“¸é€ SKä»£å¸]
    H --> I[æ›´æ–°ç”¨æˆ·ä½™é¢]
    
    D --> J[æ£€æŸ¥ä»£å¸ä½™é¢]
    J --> K[æˆæƒä»£å¸ä½¿ç”¨]
    K --> L[è°ƒç”¨CourseMarketplace.purchaseCourse]
    L --> M[è½¬è´¦ä»£å¸ç»™è®²å¸ˆ]
    M --> N[è®°å½•è´­ä¹°çŠ¶æ€]
    
    E --> O[è°ƒç”¨CourseMarketplace.createCourse]
    O --> P[å­˜å‚¨è¯¾ç¨‹ä¿¡æ¯]
    P --> Q[åˆ†é…è¯¾ç¨‹ID]
    Q --> R[æ›´æ–°è¯¾ç¨‹åˆ—è¡¨]
```

### å‰ç«¯çŠ¶æ€ç®¡ç†

```typescript
// ä¸»è¦çŠ¶æ€ç®¡ç†é€»è¾‘
const [courses, setCourses] = useState<Course[]>([])
const [availableCourses, setAvailableCourses] = useState<Course[]>([])

// ç›‘å¬åˆçº¦æ•°æ®å˜åŒ–
const { data: coursesData } = useReadContract({
  address: CONTRACTS.COURSE_MARKETPLACE,
  abi: COURSE_MARKETPLACE_ABI,
  functionName: 'getActiveCourses'
})

// è¿‡æ»¤å¯è´­ä¹°è¯¾ç¨‹
useEffect(() => {
  if (coursesData && address) {
    const allCourses = coursesData as Course[]
    const purchasable = allCourses.filter(course => 
      course.instructor.toLowerCase() !== address.toLowerCase()
    )
    setAvailableCourses(purchasable)
  }
}, [coursesData, address])
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
npx hardhat test
```

### æµ‹è¯•è¦†ç›–
- æ™ºèƒ½åˆçº¦å•å…ƒæµ‹è¯•
- ä»£å¸è´­ä¹°åŠŸèƒ½æµ‹è¯•
- è¯¾ç¨‹åˆ›å»ºå’Œè´­ä¹°æµ‹è¯•
- æƒé™æ§åˆ¶æµ‹è¯•

## ğŸ“Š é¡¹ç›®ç‰¹è‰²

### å®‰å…¨æ€§
- ä½¿ç”¨OpenZeppelinå®‰å…¨åˆçº¦åº“
- å®Œå–„çš„æƒé™æ§åˆ¶æœºåˆ¶
- é˜²é‡å…¥æ”»å‡»ä¿æŠ¤
- è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†

### ç”¨æˆ·ä½“éªŒ
- ç›´è§‚çš„Web3ç•Œé¢è®¾è®¡
- å®æ—¶çš„äº¤æ˜“çŠ¶æ€åé¦ˆ
- æ™ºèƒ½çš„ç½‘ç»œçŠ¶æ€æ£€æµ‹
- å“åº”å¼ç§»åŠ¨ç«¯é€‚é…

### å¯æ‰©å±•æ€§
- æ¨¡å—åŒ–çš„åˆçº¦è®¾è®¡
- å¯æ’æ‹”çš„å‰ç«¯ç»„ä»¶
- æ ‡å‡†åŒ–çš„APIæ¥å£
- æ”¯æŒå¤šç½‘ç»œéƒ¨ç½²

## ğŸ”® æœªæ¥è§„åˆ’

- [ ] è¯¾ç¨‹å†…å®¹ç®¡ç†ç³»ç»Ÿ
- [ ] è§†é¢‘æµåª’ä½“é›†æˆ
- [ ] è¯¾ç¨‹è¯„ä»·å’Œè¯„åˆ†
- [ ] NFTè¯ä¹¦ç³»ç»Ÿ
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯åº”ç”¨

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡GitHub Issuesè”ç³»ã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œæ¼”ç¤ºç›®çš„ï¼Œè¯·å‹¿åœ¨ä¸»ç½‘ä¸Šä½¿ç”¨æœªç»å®¡è®¡çš„æ™ºèƒ½åˆçº¦ã€‚
